// 二维数组求和
// 参数形式: a[][3] 在 SysY 中意味着是指向 [3 x float] 的指针
float sum_2d(float a[][3], int rows) {
    float sum = 0.0;
    int i = 0;
    while (i < rows) {
        int j = 0;
        while (j < 3) {
            sum = sum + a[i][j];
            j = j + 1;
        }
        i = i + 1;
    }
    return sum;
}

int main() {
    // 声明 2x3 的浮点数组
    float arr[2][3];
    
    // 初始化 Row 0
    arr[0][0] = 1.0; 
    arr[0][1] = 2.0; 
    arr[0][2] = 3.0; // Row 0 sum = 6.0
    
    // 初始化 Row 1
    arr[1][0] = 4.0; 
    arr[1][1] = 5.0; 
    arr[1][2] = 6.0; // Row 1 sum = 15.0

    // 预期总和: 21.0
    float res = sum_2d(arr, 2);

    if (res == 21.0) putint(1); else putint(0);
    putch(10);

    // 复杂下标测试: arr[1][0]
    // 逻辑下标: 1 * 3 + 0 = 3
    // 检查编译器生成的 GEP 是否正确处理维度乘法
    if (arr[1][0] == 4.0) putint(1); else putint(0);
    putch(10);

    return 0;
}